<h1><code ng:non-bindable="">contentResource</code>
<span class="hint">(service in module <code ng:non-bindable="">umbraco.resources</code>
)</span>
</h1>
<div><h2 id="Description">Description</h2>
<div class="description"><p>Handles all transactions of content data
from the angular application to the Umbraco database, using the Content WebApi controller</p>

<p>all methods returns a resource promise async, so all operations won't complete untill .then() is completed.</p></div>
<h2 id="Dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/$q">$q</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/$http">$http</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/umbDataFormatter">umbDataFormatter</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/umbRequestHelper">umbRequestHelper</a></code>
<h2 id="usage">usage</h4>

<p>To use, simply inject the contentResource into any controller or service that needs it, and make
sure the umbraco.resources module is accesible - which it should be by default.</p>

<pre class="prettyprint linenums">
   contentResource.getById(1234)
         .then(function(data) {
             $scope.content = data;
         });    
</pre> </p></li>
</ul>
<div class="member method"><h2 id="Methods">Methods</h2>
<ul class="methods"><li><h3 id="deleteById">deleteById(id)</h3>
<div class="deletebyid"><p>Deletes a content item with a given id</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.deleteById(1234)
   .then(function() {
       alert('its gone!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">id  {Int}  </code>
<p>id of content item to delete        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
<li><h3 id="emptyRecycleBin">emptyRecycleBin()</h3>
<div class="emptyrecyclebin"><p>Empties the content recycle bin</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.emptyRecycleBin()
   .then(function() {
       alert('its empty!');
   });
</pre> </p><h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
<li><h3 id="getById">getById(id)</h3>
<div class="getbyid"><p>Gets a content item with a given id</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getById(1234)
   .then(function(content) {
       var myDoc = content; 
       alert('its here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">id  {Int}  </code>
<p>id of content item to return        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the content item.</p></div>
</div>
</li>
<li><h3 id="getByIds">getByIds(ids)</h3>
<div class="getbyids"><p>Gets an array of content items, given a collection of ids</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getByIds( [1234,2526,28262])
   .then(function(contentArray) {
       var myDoc = contentArray; 
       alert('they are here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">ids  {Array}  </code>
<p>ids of content items to return as an array        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the content items array.</p></div>
</div>
</li>
<li><h3 id="getByIds">getByIds(ids)</h3>
<div class="getbyids"><p>Gets an array of content items, given a collection of ids</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getByIds( [1234,2526,28262])
   .then(function(contentArray) {
       var myDoc = contentArray; 
       alert('they are here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">ids  {Array}  </code>
<p>ids of entities to return as an array        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the entity array.</p></div>
</div>
</li>
<li><h3 id="getChildren">getChildren(parentid, options)</h3>
<div class="getchildren"><p>Gets children of a content item with a given id</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getChildren(1234, {pageSize: 10, pageNumber: 2})
   .then(function(contentArray) {
       var children = contentArray; 
       alert('they are here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">parentid  {Int}  </code>
<p>id of content item to return children of</p></li>
<li><code ng:non-bindable="">options  {Object}  </code>
<p>optional options object</p></li>
<li><code ng:non-bindable="">options.pageSize  {Int}  </code>
<p>if paging data, number of nodes per page, default = 0</p></li>
<li><code ng:non-bindable="">options.pageNumber  {Int}  </code>
<p>if paging data, current page index, default = 0</p></li>
<li><code ng:non-bindable="">options.filter  {String}  </code>
<p>if provided, query will only return those with names matching the filter</p></li>
<li><code ng:non-bindable="">options.orderDirection  {String}  </code>
<p>can be <code>Ascending</code> or <code>Descending</code> - Default: <code>Ascending</code></p></li>
<li><code ng:non-bindable="">options.orderBy  {String}  </code>
<p>property to order items by, default: <code>SortOrder</code></p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing an array of content items.</p></div>
</div>
</li>
<li><h3 id="getScaffold">getScaffold(parentId, alias)</h3>
<div class="getscaffold"><p>Returns a scaffold of an empty content item, given the id of the content item to place it underneath and the content type alias.</p>

<ul>
<li>Parent Id must be provided so umbraco knows where to store the content</li>
<li>Content Type alias must be provided so umbraco knows which properties to put on the content scaffold </li>
</ul>

<p>The scaffold is used to build editors for content that has not yet been populated with data.</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getScaffold(1234, 'homepage')
   .then(function(scaffold) {
       var myDoc = scaffold;
       myDoc.name = "My new document"; 

       contentResource.publishContent(myDoc, true)
           .then(function(content){
               alert("Retrieved, updated and published again");
           });
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">parentId  {Int}  </code>
<p>id of content item to return</p></li>
<li><code ng:non-bindable="">alias  {String}  </code>
<p>contenttype alias to base the scaffold on        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the content scaffold.</p></div>
</div>
</li>
<li><h3 id="publishContent">publishContent(content, isNew, files)</h3>
<div class="publishcontent"><p>Saves and publishes changes made to a content item to a new version, if the content item is new, the isNew paramater must be passed to force creation
if the content item needs to have files attached, they must be provided as the files param and passed seperately </p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getById(1234)
   .then(function(content) {
         content.name = "I want a new name, and be published!";
         contentResource.publishContent(content, false)
           .then(function(content){
               alert("Retrieved, updated and published again");
           });
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">content  {Object}  </code>
<p>The content item object with changes applied</p></li>
<li><code ng:non-bindable="">isNew  {Bool}  </code>
<p>set to true to create a new item or to update an existing </p></li>
<li><code ng:non-bindable="">files  {Array}  </code>
<p>collection of files for the document      </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the saved content item.</p></div>
</div>
</li>
<li><h3 id="saveContent">saveContent(content, isNew, files)</h3>
<div class="savecontent"><p>Saves changes made to a content item to its current version, if the content item is new, the isNew paramater must be passed to force creation
if the content item needs to have files attached, they must be provided as the files param and passed seperately </p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
contentResource.getById(1234)
   .then(function(content) {
         content.name = "I want a new name!";
         contentResource.saveContent(content, false)
           .then(function(content){
               alert("Retrieved, updated and saved again");
           });
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">content  {Object}  </code>
<p>The content item object with changes applied</p></li>
<li><code ng:non-bindable="">isNew  {Bool}  </code>
<p>set to true to create a new item or to update an existing </p></li>
<li><code ng:non-bindable="">files  {Array}  </code>
<p>collection of files for the document      </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the saved content item.</p></div>
</div>
</li>
<li><h3 id="sort">sort(args)</h3>
<div class="sort"><p>Sorts all children below a given parent node id, based on a collection of node-ids</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
var ids = [123,34533,2334,23434];
contentResource.sort({ parentId: 1244, sortedIds: ids })
   .then(function() {
       $scope.complete = true;
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">args  {Object}  </code>
<p>arguments object</p></li>
<li><code ng:non-bindable="">args.parentId  {Int}  </code>
<p>the ID of the parent node</p></li>
<li><code ng:non-bindable="">options.sortedIds  {Array}  </code>
<p>array of node IDs as they should be sorted</p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
</ul>
</div>
</div>
