<h1><code ng:non-bindable="">mediaResource</code>
<span class="hint">(service in module <code ng:non-bindable="">umbraco.resources</code>
)</span>
</h1>
<div><h2 id="Description">Description</h2>
<div class="description"><p>Loads in data for media</p></div>
<div class="member method"><h2 id="Methods">Methods</h2>
<ul class="methods"><li><h3 id="addFolder">addFolder(name, parentId)</h3>
<div class="addfolder"><p>Shorthand for adding a media item of the type "Folder" under a given parent ID</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.addFolder("My gallery", 1234)
   .then(function(folder) {
       alert('New folder');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">name – {string} – </code>
<p>Name of the folder to create</p></li>
<li><code ng:non-bindable="">parentId – {int} – </code>
<p>Id of the media item to create the folder underneath         </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
<li><h3 id="deleteById">deleteById(id)</h3>
<div class="deletebyid"><p>Deletes a media item with a given id</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.deleteById(1234)
   .then(function() {
       alert('its gone!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">id – {Int} – </code>
<p>id of media item to delete        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
<li><h3 id="emptyRecycleBin">emptyRecycleBin()</h3>
<div class="emptyrecyclebin"><p>Empties the media recycle bin</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.emptyRecycleBin()
   .then(function() {
       alert('its empty!');
   });
</pre> </p><h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
<li><h3 id="getById">getById(id)</h3>
<div class="getbyid"><p>Gets a media item with a given id</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.getById(1234)
   .then(function(media) {
       var myMedia = media; 
       alert('its here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">id – {Int} – </code>
<p>id of media item to return        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the media item.</p></div>
</div>
</li>
<li><h3 id="getByIds">getByIds(ids)</h3>
<div class="getbyids"><p>Gets an array of media items, given a collection of ids</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.getByIds( [1234,2526,28262])
   .then(function(mediaArray) {
       var myDoc = contentArray; 
       alert('they are here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">ids – {Array} – </code>
<p>ids of media items to return as an array        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the media items array.</p></div>
</div>
</li>
<li><h3 id="getChildren">getChildren(parentid, options)</h3>
<div class="getchildren"><p>Gets children of a media item with a given id</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.getChildren(1234, {pageSize: 10, pageNumber: 2})
   .then(function(contentArray) {
       var children = contentArray; 
       alert('they are here!');
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">parentid – {Int} – </code>
<p>id of content item to return children of</p></li>
<li><code ng:non-bindable="">options – {Object} – </code>
<p>optional options object</p></li>
<li><code ng:non-bindable="">options.pageSize – {Int} – </code>
<p>if paging data, number of nodes per page, default = 0</p></li>
<li><code ng:non-bindable="">options.pageNumber – {Int} – </code>
<p>if paging data, current page index, default = 0</p></li>
<li><code ng:non-bindable="">options.filter – {String} – </code>
<p>if provided, query will only return those with names matching the filter</p></li>
<li><code ng:non-bindable="">options.orderDirection – {String} – </code>
<p>can be <code>Ascending</code> or <code>Descending</code> - Default: <code>Ascending</code></p></li>
<li><code ng:non-bindable="">options.orderBy – {String} – </code>
<p>property to order items by, default: <code>SortOrder</code></p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing an array of content items.</p></div>
</div>
</li>
<li><h3 id="getScaffold">getScaffold(parentId, alias)</h3>
<div class="getscaffold"><p>Returns a scaffold of an empty media item, given the id of the media item to place it underneath and the media type alias.</p>

<ul>
<li>Parent Id must be provided so umbraco knows where to store the media</li>
<li>Media Type alias must be provided so umbraco knows which properties to put on the media scaffold </li>
</ul>

<p>The scaffold is used to build editors for media that has not yet been populated with data.</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.getScaffold(1234, 'folder')
   .then(function(scaffold) {
       var myDoc = scaffold;
       myDoc.name = "My new media item"; 

       mediaResource.save(myDoc, true)
           .then(function(media){
               alert("Retrieved, updated and saved again");
           });
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">parentId – {Int} – </code>
<p>id of media item to return</p></li>
<li><code ng:non-bindable="">alias – {String} – </code>
<p>mediatype alias to base the scaffold on        </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the media scaffold.</p></div>
</div>
</li>
<li><h3 id="move">move(args)</h3>
<div class="move"><p>Moves a node underneath a new parentId</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.move({ parentId: 1244, id: 123 })
   .then(function() {
       alert("node was moved");
   }, function(err){
     alert("node didnt move:" + err.data.Message); 
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">args – {Object} – </code>
<p>arguments object</p></li>
<li><code ng:non-bindable="">args.idd – {Int} – </code>
<p>the ID of the node to move</p></li>
<li><code ng:non-bindable="">args.parentId – {Int} – </code>
<p>the ID of the parent node to move to</p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
<li><h3 id="save">save(media, isNew, files)</h3>
<div class="save"><p>Saves changes made to a media item, if the media item is new, the isNew paramater must be passed to force creation
if the media item needs to have files attached, they must be provided as the files param and passed seperately </p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
mediaResource.getById(1234)
   .then(function(media) {
         media.name = "I want a new name!";
         mediaResource.save(media, false)
           .then(function(media){
               alert("Retrieved, updated and saved again");
           });
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">media – {Object} – </code>
<p>The media item object with changes applied</p></li>
<li><code ng:non-bindable="">isNew – {Bool} – </code>
<p>set to true to create a new item or to update an existing </p></li>
<li><code ng:non-bindable="">files – {Array} – </code>
<p>collection of files for the media item      </p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object containing the saved media item.</p></div>
</div>
</li>
<li><h3 id="sort">sort(args)</h3>
<div class="sort"><p>Sorts all children below a given parent node id, based on a collection of node-ids</p>

<h2 id="usage">usage</h5>

<pre class="prettyprint linenums">
var ids = [123,34533,2334,23434];
mediaResource.sort({ sortedIds: ids })
   .then(function() {
       $scope.complete = true;
   });
</pre> </p><h4 id="Parameters">Parameters</h4>
<ul class="parameters"><li><code ng:non-bindable="">args – {Object} – </code>
<p>arguments object</p></li>
<li><code ng:non-bindable="">args.parentId – {Int} – </code>
<p>the ID of the parent node</p></li>
<li><code ng:non-bindable="">options.sortedIds – {Array} – </code>
<p>array of node IDs as they should be sorted</p></li>
</ul>
<h4 id="Returns">Returns</h4>
<div class="returns"><code ng:non-bindable="">{Promise}</code>
– <p>resourcePromise object.</p></div>
</div>
</li>
</ul>
</div>
</div>
