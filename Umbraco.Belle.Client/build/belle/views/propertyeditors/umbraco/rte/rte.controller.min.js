angular.module("umbraco").controller("Umbraco.Editors.RTEController",function(e,t,n,r){require(["tinymce"],function(e){function i(e){r.log("woot");t.$apply(function(){t.model.value=e.getBody().innerHTML})}function s(e){r.log(e)}function o(e){t.model.value=e.selection}e.DOM.events.domLoaded=!0;e.init({selector:"#"+t.model.alias+"_rte",skin:"umbraco",menubar:!1,statusbar:!1,height:340,toolbar:"bold italic | styleselect | alignleft aligncenter alignright | bullist numlist | outdent indent | link image mediapicker",setup:function(e){e.on("blur",function(n){t.$apply(function(){t.model.value=e.getContent()})});e.addButton("mediapicker",{icon:"media",tooltip:"Media Picker",onclick:function(){n.mediaPicker({scope:t,callback:function(t){$(t.selection).each(function(t,n){var r={src:n.thumbnail,style:"width: 100px; height: 100px",id:"__mcenew"};e.insertContent(e.dom.createHTML("img",r));var i=e.dom.get("__mcenew");e.dom.setAttrib(i,"id",null)})}})}})}});t.openMediaPicker=function(e){var r=n.mediaPicker({scope:t,callback:o})}})});