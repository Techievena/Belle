angular.module("umbraco").controller("Umbraco.Editors.GoogleMapsController",function(e,t,n){require(["async!http://maps.google.com/maps/api/js?sensor=false"],function(){var r=t.model.value.split(","),i=new google.maps.LatLng(r[0],r[1]),s=document.getElementById(t.model.alias+"_map"),o={zoom:t.model.config.zoom,center:i,mapTypeId:google.maps.MapTypeId[t.model.config.mapType]},u=new google.maps.Map(s,o),a=new google.maps.Marker({map:u,position:i,draggable:!0});google.maps.event.trigger(u,"resize");google.maps.event.addListener(a,"dragend",function(r){var i=a.getPosition().lat(),s=a.getPosition().lng();t.model.value=i+","+s;e.$apply(function(){n.warning("Your dragged a marker to",t.model.value)})});google.maps.event.addListenerOnce(u,"idle",function(){google.maps.event.trigger(u,"resize")})})});