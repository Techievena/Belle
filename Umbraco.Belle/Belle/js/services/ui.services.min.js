"use strict";define(["angular"],function(e){var t=e.module("umbraco.ui.services",[]);t.factory("$section",function(){var e="content";return{all:function(){return[{name:"Content",cssclass:"content",alias:"content"},{name:"Media",cssclass:"media",alias:"media"},{name:"Settings",cssclass:"settings",alias:"settings"},{name:"Developer",cssclass:"developer",alias:"developer"},{name:"Users",cssclass:"user",alias:"users"}]},setCurrent:function(t){e=t}}});t.factory("$search",function(){return{search:function(e,t){return[{section:"settings",tree:"documentTypes",matches:[{name:"News archive",path:"/News Archive",id:1234,icon:"icon-list-alt",view:t+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Meta Data",path:"/Seo/Meta Data",id:1234,icon:"icon-list-alt",view:t+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Dooo",path:"/Woop/dee/dooo",id:1234,icon:"icon-list-alt red",view:t+"/edit/"+1234,children:[],expanded:!1,level:1}]},{section:"content",tree:"content",matches:[{name:"News",path:"/archive/news",id:1234,icon:"icon-file",view:t+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Data types",path:"/Something/About/Data-Types",id:1234,icon:"icon-file",view:t+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Dooo",path:"/Woop/dee/dooo",id:1234,icon:"icon-file",view:t+"/edit/"+1234,children:[],expanded:!1,level:1}]},{section:"developer",tree:"macros",matches:[{name:"Navigation",path:"/Macros/Navigation.xslt",id:1234,icon:"icon-cogs",view:t+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"List of stuff",path:"/Macros/Navigation.xslt",id:1234,icon:"icon-cogs",view:t+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Something else",path:"/Macros/Navigation.xslt",id:1234,icon:"icon-cogs",view:t+"/edit/"+1234,children:[],expanded:!1,level:1}]}]},setCurrent:function(e){currentSection=e}}});t.factory("$tree",function(e){var t=new Array,n="content";return{getTree:function(e){if(t[e]!=undefined)return t[e];var n;switch(e){case"developer":n={name:e,alias:e,children:[{name:"Data types",id:1234,icon:"icon-folder-close",view:e+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Macros",id:1235,icon:"icon-folder-close blue",view:e+"/edit/"+1235,children:[],expanded:!1,level:1},{name:"Pacakges",id:1236,icon:"icon-folder-close green",view:e+"/edit/"+1236,children:[],expanded:!1,level:1},{name:"XSLT Files",id:1237,icon:"icon-folder-close red",view:e+"/edit/"+1237,children:[],expanded:!1,level:1},{name:"Razor Files",id:1237,icon:"icon-folder-close",view:e+"/edit/"+1237,children:[],expanded:!1,level:1}]};break;case"settings":n={name:e,alias:e,children:[{name:"Stylesheets",id:1234,icon:"icon-folder-close",view:e+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"Templates",id:1235,icon:"icon-folder-close",view:e+"/edit/"+1235,children:[],expanded:!1,level:1},{name:"Dictionary",id:1236,icon:"icon-folder-close",view:e+"/edit/"+1236,children:[],expanded:!1,level:1},{name:"Media types",id:1237,icon:"icon-folder-close",view:e+"/edit/"+1237,children:[],expanded:!1,level:1},{name:"Document types",id:1237,icon:"icon-folder-close",view:e+"/edit/"+1237,children:[],expanded:!1,level:1}]};break;default:n={name:e,alias:e,children:[{name:"random-name-"+e,id:1234,icon:"icon-home",defaultAction:"create",view:e+"/edit/"+1234,children:[],expanded:!1,level:1},{name:"random-name-"+e,id:1235,icon:"icon-folder-close",defaultAction:"create",view:e+"/edit/"+1235,children:[],expanded:!1,level:1},{name:"random-name-"+e,id:1236,icon:"icon-folder-close",defaultAction:"create",view:e+"/edit/"+1236,children:[],expanded:!1,level:1},{name:"random-name-"+e,id:1237,icon:"icon-folder-close",defaultAction:"create",view:e+"/edit/"+1237,children:[],expanded:!1,level:1}]}}t[e]=n;return t[e]},getActions:function(e,t){return[{name:"Create",cssclass:"plus",alias:"create"},{seperator:!0,name:"Delete",cssclass:"remove",alias:"delete"},{name:"Move",cssclass:"move",alias:"move"},{name:"Copy",cssclass:"copy",alias:"copy"},{name:"Sort",cssclass:"sort",alias:"sort"},{seperator:!0,name:"Publish",cssclass:"globe",alias:"publish"},{name:"Rollback",cssclass:"undo",alias:"rollback"},{seperator:!0,name:"Permissions",cssclass:"lock",alias:"permissions"},{name:"Audit Trail",cssclass:"time",alias:"audittrail"},{name:"Notifications",cssclass:"envelope",alias:"notifications"},{seperator:!0,name:"Hostnames",cssclass:"home",alias:"hostnames"},{name:"Public Access",cssclass:"group",alias:"publicaccess"},{seperator:!0,name:"Reload",cssclass:"refresh",alias:"users"}]},getChildActions:function(e,t){return[{name:"Create",cssclass:"plus",alias:"create"},{seperator:!0,name:"Delete",cssclass:"remove",alias:"delete"},{name:"Move",cssclass:"move",alias:"move"},{name:"Copy",cssclass:"copy",alias:"copy"},{name:"Sort",cssclass:"sort",alias:"sort"},{seperator:!0,name:"Publish",cssclass:"globe",alias:"publish"},{name:"Rollback",cssclass:"undo",alias:"rollback"},{seperator:!0,name:"Permissions",cssclass:"lock",alias:"permissions"},{name:"Audit Trail",cssclass:"time",alias:"audittrail"},{name:"Notifications",cssclass:"envelope",alias:"notifications"},{seperator:!0,name:"Hostnames",cssclass:"home",alias:"hostnames"},{name:"Public Access",cssclass:"group",alias:"publicaccess"},{seperator:!0,name:"Reload",cssclass:"refresh",alias:"users"}]},getChildren:function(e,t){var n=e.level+1;return[{name:"child-of-"+e.name,id:n+""+1234,icon:"icon-file-alt",view:t+"/edit/"+n+""+1234,children:[],expanded:!1,level:n},{name:"random-name-"+t,id:n+""+1235,icon:"icon-file-alt blue",view:t+"/edit/"+n+""+1235,children:[],expanded:!1,level:n},{name:"random-name-"+t,id:n+""+1236,icon:"icon-file-alt green",view:t+"/edit/"+n+""+1236,children:[],expanded:!1,level:n},{name:"random-name-"+t,id:n+""+1237,icon:"icon-file-alt purple",view:t+"/edit/"+n+""+1237,children:[],expanded:!1,level:n}]}}});t.factory("$notification",function(e){function n(n){var r=t.length;t.push(n);setTimeout(function(){e.$apply(function(){t.splice(r,1)})},5e3)}var t=new Array;return{success:function(e,t){n({headline:e,message:t,type:"success",time:new Date})},error:function(e,t){n({headline:e,message:t,type:"error",time:new Date})},warning:function(e,t){n({headline:e,message:t,type:"warning",time:new Date})},remove:function(e){t.splice(e,1)},notifications:t}});t.factory("$dialog",["$rootScope","$compile","$http","$timeout","$q","$templateCache",function(t,n,r,i,s,o){function u(u){u||(u={});var a=u.scope||t.$new(),f=u.template,l=u.callback;return s.when(o.get(f)||r.get(f,{cache:!0}).then(function(e){return e.data})).then(function(r){var s=f.replace(".html","").replace(/[\/|\.|:]/g,"-")+"-"+a.$id,o=$('<div class="modal umb-modal  hide" tabindex="-1"></div>').attr("id",s).addClass("fade").html(r);u.modalClass&&o.addClass(u.modalClass);$("body").append(o);i(function(){n(o)(a)});a.dialogData={};a.dialogData.selection=[];a.$modal=function(e){o.modal(e)};a.hide=function(){o.modal("hide")};a.show=function(){o.modal("show")};a.submit=function(e){l(e);o.modal("hide")};a.select=function(e){a.dialogData.selection.indexOf(e)<0&&a.dialogData.selection.push(e)};a.dismiss=a.hide;e.forEach(["show","shown","hide","hidden"],function(e){o.on(e,function(t){a.$emit("modal-"+e,t)})});o.on("shown",function(e){$("input[autofocus]",o).first().trigger("focus")});u.show&&o.modal("show");return o})}return{open:function(e){return u(e)},mediaPicker:function(e){return u({scope:e.scope,callback:e.callback,template:"views/application/dialogs/media.html",show:!0,backdrop:"static"})},contentPicker:function(e){return u({scope:e.scope,callback:e.callback,template:"views/application/dialogs/media.html",show:!0,backdrop:"static"})},append:function(e){var u=e.scope||t.$new(),a=e.template;return s.when(o.get(a)||r.get(a,{cache:!0}).then(function(e){return e.data})).then(function(r){i(function(){e.container.html(r);n(e.container)(u)});return r})}}}]);t.factory("$key",function(t,n,r){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(t,n,o,u){var a,f=[];a=n.$eval(u["ui"+s(t)]);e.forEach(a,function(t,n){var i,s;s=r(t);e.forEach(n.split(" "),function(t){i={expression:s,keys:{}};e.forEach(t.split("-"),function(e){i.keys[e]=!0});f.push(i)})});o.bind(t,function(r){var s=!!r.metaKey||!!r.altKey,o=!!r.ctrlKey,u=!!r.shiftKey,a=r.keyCode;t==="keypress"&&!u&&a>=97&&a<=122&&(a-=32);e.forEach(f,function(e){var t=e.keys[i[r.keyCode]]||e.keys[r.keyCode.toString()],a=!!e.keys.alt,f=!!e.keys.ctrl,l=!!e.keys.shift;t&&a==s&&f==o&&l==u&&n.$apply(function(){e.expression(n,{$event:r})})})})}});return t});